<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Break Breaker</title>
  </head>
  <body>
    <canvas id="myCanvas" width="600" height="420"></canvas>
    <!-- <script src="script.js"></script> -->
     <!-- <script src="game.js"></script> -->
      <script src="ball.js"></script>

     <!-- <script>
      let canvas = document.getElementById("myCanvas");
      const ct = canvas.getContext("2d");
      let interval = 0;

      interval = setInterval(draw, 10)

      let x = canvas.width/2;
      let y = canvas.height - 30;
      let dx = 2;
      let dy = -2;
      let ballRadius = 12;


      function drawBall(){
        ct.beginPath();
        ct.arc(x, y, ballRadius, 0, Math.PI * 2,);
        ct.fillStyle = "red";
        ct.fill();
        ct.closePath();
      }


      let paddleHeight = 10;
      let paddleWidth = 72;
      let paddleX = (canvas.width -paddleWidth)/2;
      function drawPaddle(){
        ct.beginPath();
        ct.rect(paddleX, canvas.height - paddleHeight, paddleWidth, paddleWidth);
        ct.fillStyle = "blue";
        ct.fill();
        ct.closePath();
      }
      let rightPressed = false;
      let leftPressed = false;

      document.addEventListener("keydown", keyDown, false);
      document.addEventListener("keyup", keyUp, false);

      function keyDown(e){
        if(e.key === "Right" || e.key === "ArrowRight"){
          rightPressed = true;
        }else if(e.key === "left" || e.key === "ArrowLeft"){
          leftPressed = true;
        }
      }
      function keyUp(e){
        if(e.key === "Right" || e.key === "ArrowRight"){
          rightPressed = false;
        }else if(e.key === "left" || e.key === "ArrowLeft"){
          leftPressed = false;
        }
      }


      function draw(){
        ct.clearRect(0,0, canvas.width, canvas.height);
        drawBall();
        drawPaddle();
        drawBricks();
        collisionDetection();
        drawScore();
        if(x + dx > canvas.width - ballRadius || x + dx < ballRadius ){
          dx = -dx;
        } if(y + dy < ballRadius){
          dy = -dy;
        }else if (y + dy > canvas.height - ballRadius ){
          if(x > paddleX && x < paddleX + paddleWidth ){
            dy = -dy;
          }else{
            document.location.reload();

            clearInterval(interval);
          }
        }

        if(rightPressed){
          paddleX += 2;
        }else if(leftPressed){
          paddleX -= 2;
        }
        if(rightPressed){
          paddleX = Math.min(paddleX + 2, canvas.width - paddleWidth);
        }else if(leftPressed){
          paddleX = Math.max(paddleX -2, 0);
        }

        x += dx;
        y += dy;
      }

      let brickWidth = 72;
      let brickHeight = 10;
      let brickColumnCount = 7;
      let brickRowCount = 4;
      let brickPadding = 12;
      let brickOffsetLeft = 12;
      let brickOffsetTop = 30;


      const bricks = [];
      for(let c = 0; c < brickColumnCount; c++){
        bricks[c] =[];
        for(let r = 0; r < brickRowCount; r++){
          bricks[c][r] = {x: 0, y: 0, status: 1}
        }
      }


      function drawBricks(){
        for(let c = 0; c < brickColumnCount; c++){
          for(let r = 0; r < brickRowCount; r++){
            if(bricks[c][r].status === 1){
              let brickX = c * (brickWidth + brickPadding) + brickOffsetLeft;
              let brickY = r * (brickHeight + brickOffsetLeft) + brickOffsetTop;

              bricks[c][r].x = brickX;
              bricks[c][r].y = brickY;

              ct.beginPath();
              ct.rect(brickX, brickY, paddleWidth, paddleHeight);
              ct.fillStyle = "orange";
              ct.fill();
              ct.closePath();
            }
          }
        }
      }

      function collisionDetection(){
        for(let c = 0; c < brickColumnCount; c++){
          for(let r = 0; r < brickRowCount; r++){
            let b = bricks[c][r];
            if(b.status === 1){
              if (x > b.x && x < b.x + brickWidth && y > b.y && y < b.y + brickHeight){
                dy = -dy;
                b.status = 0;
                score++;
              }
            }
          }
        }
      }
      let score = 0;
      function drawScore(){
        ct.font = "20px Arial"
        ct.fillStyle = "black"
        ct.fillText(`Score: ${score}`, 0, 25);
      }
     </script> -->
    </body>
</html>
<style>
  * {
    padding: 0;
    margin: 0;
  }
  canvas {
    /* background-color: rgb(143, 243, 243); */
    border: 2px solid black;
    display: block;
    margin: 0 auto;
  }
</style>

